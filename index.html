<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Werewolf | Universal Hub</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js" crossorigin="anonymous"></script>

    <style>
        :root {
            --bg-main: #0a0a0a; 
            --ww-accent: #0099ff;
            --menu-width: 90%; /* Standardizing to 90% - */
        }

        /* DYNAMIC THEMES */
        body.ww-night { --bg-main: #050505; --ww-accent: #ff9900; }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--bg-main);
            color: #ffffff;
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
            transition: background 0.8s ease;
        }

        /* THE UNIVERSAL NAV BAR */
        #universal-nav {
            width: var(--menu-width);
            margin: 20px auto;
            padding: 15px;
            background: rgba(30, 30, 30, 0.9);
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid #333;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            margin-left: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .nav-links a:hover { color: var(--ww-accent); }

        /* Mobile Stacking - */
        @media (max-width: 768px) {
            #universal-nav { flex-direction: column; gap: 15px; text-align: center; }
            .nav-links { display: flex; flex-direction: column; gap: 10px; margin: 0; }
        }

        /* Movie Grid Logic - */
        #movie-container {
            width: var(--menu-width);
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
    </style>
</head>
<body>

    <nav id="universal-nav">
        <div style="font-weight: 900; color: var(--ww-accent);">WEREWOLF3788</div>
        <div class="nav-links" id="dynamic-links">
            </div>
    </nav>

    <div id="movie-container">Syncing Library...</div>

    <script>
        // 1. DOMAIN-BASED LINK LOGIC
        const siteConfig = {
            "werewolf.ourflora.com": [
                { name: "Phoenix", url: "/phoenix-darkfire/" },
                { name: "Ray", url: "/home/ray-2/" },
                { name: "Movies", url: "https://kfruti88.github.io/Movies-Anywhere/" }
            ],
            "ourflora.com": [
                { name: "Business Directory", url: "/directory" },
                { name: "Flora News", url: "/news" }
            ]
        };

        function setupUniversalMenu() {
            const host = window.location.hostname;
            const links = siteConfig[host] || siteConfig["werewolf.ourflora.com"]; // Default to yours
            const container = document.getElementById('dynamic-links');
            
            links.forEach(link => {
                const a = document.createElement('a');
                a.href = link.url;
                a.textContent = link.name;
                container.appendChild(a);
            });
        }

        // 2. SUNRISE/SUNSET LOGIC
        function applyTimeTheme() {
            const hour = new Date().getHours();
            if (hour < 6 || hour >= 18) {
                document.body.classList.add('ww-night');
            }
        }

        // 3. MOVIE SYNC LOGIC -
        // (Using your existing PapaParse logic here...)

        window.onload = function() {
            setupUniversalMenu();
            applyTimeTheme();
            // universalInit(); // Call your CSV parser here
        };
    </script>
</body>
</html>
